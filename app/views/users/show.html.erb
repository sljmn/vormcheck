
<h1 class="pageTitle">Your account</h1>


<div class="accountWrapper">

<div class="avatar">
  <img src="https://place-hold.it/190x150" alt="" >

</div>


<% if current_user.id  == User.find(params[:id]).id  %>
<div class="editAccount">
<ul>
  <li>Username: <%= @user.username%></li>
  <li>Email: <%= @user.email%>
</li>
</ul>

<h4 class="changeAccDetails">You can change your user details below</h4>

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <%= render "devise/shared/error_messages", resource: resource %>

  <div class="passwordFields">

    <b>Edit your username</b>

      <div class="">
        <%= f.label :username %><br />
        <%= f.text_field :username, value: @user.username %>
      </div>

        <b>Edit your email</b>

    <div class="account_field">
      <%= f.label :email %><br />
      <%= f.email_field :email, value: @user.email %>
    </div>


        <b>Change your password</b>
    <div class="account_field">
      <%= f.label :password %>
      <%= f.password_field :password, autocomplete: "new-password" %>
      <% if @minimum_password_length %>

        <em><%= @minimum_password_length %> characters minimum</em>
      <% end %>
    </div>

    <div class="account_field">
      <%= f.label :password_confirmation %>
      <%= f.password_field :password_confirmation, autocomplete: "new-password" %>
    </div>

  <b>Edit your bio here</b>
    <div class="accountBio">


      <%= f.label :bio %><br />
      <%= f.text_area :bio, value:@user.bio %>
    </div>

  <b>We need your current password to confirm your changes</b>
    <div class="account_field">
      <%= f.label :current_password %>
      <%= f.password_field :current_password, autocomplete: "current-password" %>
    </div>

    <div class="actions">
      <br>
      <%= f.submit "Update",class:"blackBtn" %>
    </div>
    </div>



    <% end %>
</div>

<div class="bio">
  <h2>Your Bio</h2>
  <%=@user.bio %>



</div>


</div>









<div class="allVideos">



<% if @videos.size == 0 %>
<h2>There are no videos yet posted.</h2>

<%= link_to "Go and upload a video", new_video_url %>

<% else %>
<h2>Al your published videos</h2>
  <div class="video_upload_singleUser">
  <%# <%= link_to 'New Video', new_video_path %>

    <% @videos.each do |video| %>

    <div class="single_user_video">

      <h2><%= link_to video.video_title, video%></h2>
      <p> Uploaded by  user: <%= video.user.username %></p>
      <p>Comments: <%= video.comments.size %></p>
      <p>Posted <%= distance_of_time_in_words(video.created_at, Time.now)  %> ago</p>



      <% if current_user == video.user %>
      <p><%= link_to 'Edit your video', edit_video_path(video) %> |
      <%= link_to 'Delete your video', video, method: :delete, data: { confirm: 'Are you sure?' } %></p>
    <%= image_tag(video.thumbnail)%>
        <% end %>

</div>


        <% end %>


</div>
<% end %>
<% else %>
<div class="editAccount">
<ul>
  <li>Username: <%= @user.username%></li>
  <li>Email: <%= @user.email%>
</li>
</ul>






</div>

<div class="bio">
  <h2>Your Bio</h2>
  <%=@user.bio %>



</div>


</div>









<div class="allVideos">



<% if @videos.size == 0 %>
<h2>There are no videos yet posted.</h2>

<%= link_to "Go and upload a video", new_video_url %>

<% else %>
<h2>Al your published videos</h2>
  <div class="video_upload_singleUser">
  <%# <%= link_to 'New Video', new_video_path %>

    <% @videos.each do |video| %>

    <div class="single_user_video">

      <h2><%= link_to video.video_title, video%></h2>
      <p> Uploaded by  user: <%= video.user.username %></p>
      <p>Comments: <%= video.comments.size %></p>
      <p>Posted <%= distance_of_time_in_words(video.created_at, Time.now)  %> ago</p>



      <% if current_user == video.user %>
      <p><%= link_to 'Edit your video', edit_video_path(video) %> |
      <%= link_to 'Delete your video', video, method: :delete, data: { confirm: 'Are you sure?' } %></p>
    <%= image_tag(video.thumbnail)%>
        <% end %>

</div>


        <% end %>


</div>
<% end %>
<%end %>





</div>
